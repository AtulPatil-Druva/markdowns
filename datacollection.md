The Datacollection component is a composite orion component that deals with rendering a table along with search, filter and action buttons. Eg you could build something like this using a datacollection component  
![alt text](image-5.png)

To import Data collection you do something like
```javascript
import DataCollection from "orion/lib/dataCollection";
```

Here are the props that you can pass to the datacollection component

```
| Property          | Data Type | Default Value                                                                                                                                                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-------------------|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `dataGridConfig`  | -         | `{ paginationEnabled: false, tableId: "data-collection", responsive: true, tableHeight: "400px", uniqueDataKey: "id", isSelectable: true, multiSelect: true, ... }` | The `dataGridConfig` object accepts all the props of DataGrid component except `Children`, `defaultExpandedRows`, `expandedRows`, and `onRowExpand`. **Note:** `selectedRowsCountText` is a prop passed to `dataGridConfig` as a string to show the text description along with the count on the toolbar. `totalRowsCount`, of type `Number`, is also passed in `dataGridConfig`. If `isLoadingTotalRowsCount` is set to `true`, a loader will appear in place of the total rows count in the list count wrapper. |
| `actionButtonConfig` | -         | `{ allInActionButton: Boolean, primaryActionButton: { label: String, type: String, disabled: Boolean, onClick: Function }, groupActionButtons: [...], dropDownActionButton: {...}, renderActionButtons: Function }` | - **`allInActionButton`**: Similar to the `allInMore` prop in the `ActionButton` component. By default, the action buttons component shows the first button and subsequent buttons in the "more" dropdown. If you want all buttons to show in the "more" dropdown, use this property. <br> - **`primaryActionButton`**: Accepts all the props of Orion's `Button` component. The `onClick` prop is modified to receive `selectedRowIds` and `selectedRowItems` (for multiselect) or `selectedRowId` and `selectedRowItem` (for single select) as arguments. <br> - **`groupActionButtons`**: Accepts all the props of Orion's `Button` component. The `onClick` prop behaves like `primaryActionButton`. If you want just one primary and secondary button, set `allInActionButton` to `false`. <br> - **`dropDownActionButton`**: Similar to Orion's `Dropdown` component. The `onItemClick` prop is modified to receive `item`, `selectedTableRows`, and `selectedTableItems` as arguments. <br> - **`renderActionButtons`**: Allows passing a custom component in place of action buttons. |
| `autoSuggestConfig` | -         | `{ searchData: [...], searchDisabled: Boolean, onSearchFocus: Function, onSearchChange: Function, onSearchEnter: Function, onSearchItemSelect: Function, onSearchClear: Function, onSearchBlur: Function, showEmptySearchMessage: Boolean, searchPlaceholder: String, renderSearchMenuItem: Function, highlightSearchMatches: Boolean, filterSearchItem: Function, renderSearchComponent: Function }` | - **`searchData`**: An array of items with a mandatory `label` property. Filtering for suggestions is done against `label`. If an object contains `items` as children, it will be treated as a group, and filtering is applied to the children. <br> - **`onSearchFocus`**: Callback function triggered on input focus, receiving the event and `inputValue`. <br> - **`onSearchChange`**: Callback triggered when the input value changes, receiving the `inputValue`. <br> - **`onSearchEnter`**: Triggered when pressing Enter; receives the current `inputValue`. This won't be called if a result item is highlighted, as `onSearchItemSelect` takes precedence. <br> - **`onSearchItemSelect`**: Called with the selected item object. <br> - **`onSearchClear`**: Triggered without arguments when the search input is cleared. <br> - **`onSearchBlur`**: Triggered on input blur, receiving the event and `inputValue`. <br> - **`searchDisabled`**: Disables the input box if true. <br> - **`showEmptySearchMessage`**: Whether to show an empty message when no matching items are found. <br> - **`searchPlaceholder`**: Placeholder text for the input. <br> - **`renderSearchMenuItem`**: Custom menu item renderer function. Receives `item` and a function to highlight matching texts, returning JSX. <br> - **`renderSearchComponent`**: Allows custom search component rendering. |

| `filterButtonConfig` | -         | `{ key: String, filterTitle: String, filters: [...], renderFilters: Function, onSubmit: Function, onReset: Function, popoverSize: String, renderFilterButton: Function, showTooltipOnMount: Boolean, hideFooter: Boolean }` | - **`filterTitle`**: Sets the title of the filter popover. <br> - **`renderFilters`**: A render prop that renders the filter popover body. Receives `FormikProps` as an argument. <br> - **`appliedFilters`**: Contains initial filter values, including: <br> &nbsp;&nbsp; - `fieldName`: Required, the filter's field name. <br> &nbsp;&nbsp; - `value`: Initial filter value. <br> - **`filters`**: Contains each filter's details, including: <br> &nbsp;&nbsp; - `fieldName`: Required, the filter's field name. <br> &nbsp;&nbsp; - `title`: Required, the filter's title displayed in the popover and tooltip. <br> &nbsp;&nbsp; - `value`: Default filter value. <br> &nbsp;&nbsp; - `valueRenderer`: Optional, a custom value renderer function. <br> - **`onSubmit`**: Returns an object mapping `fieldName` to its value. <br> - **`popoverSize`**: Sets the popover size (`xs`, `sm`, `md`, `lg`). <br> - **`renderFilterButton`**: Overrides actionButtonConfig properties, allowing custom JSX rendering. <br> - **`showTooltipOnMount`**: If true, displays a tooltip on the filter button when filters are applied. <br> - **`hideFooter`**: Hides the footer if true. |

| `paginationConfig` | -         | `{ onPageChange: Function, recordsPerPage: Number, getInfoText: Function }` | - **`onPageChange`**: Triggered on previous/next button clicks or direct input changes. <br> - **`recordsPerPage`**: Number of records displayed in the table, used to render footer info. <br> - **`getInfoText`**: Customizes pagination text, receiving `from`, `to`, and `totalRecords` as arguments. |

| `listCountWrapperConfig` | -         | `{ iconTooltipInfo: { text: String, placement: String, textAlign: String, showToolTip: Boolean }, showRefreshIcon: Boolean, showFetchedRowsCount: Boolean, onRefreshClick: Function, listCountWrapperText: String, spinRefreshIcon: Boolean }` | - **`iconTooltipInfo`**: Tooltip displayed on hovering over the refresh icon. <br> - **`showFetchedRowsCount`**: Shows "fetched records of total count" (e.g., `20 of 1000`). If pagination is enabled, total count is displayed instead. <br> - **`onRefreshClick`**: Triggered when clicking the refresh icon. <br> - **`listCountWrapperText`**: Title text passed to the component. <br> - **`spinRefreshIcon`**: If true, the refresh icon spins. |


```

For exact props of dataGridConfig refer this section:
```
| Property          | Data Type           | Default Value   | Description                                                                                                                                                                                                                              |
|-------------------|---------------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `tableId`         | String              | `data-grid`     | A unique table ID should be given in case there are multiple tables on that page.                                                                                                                                                           |
| `children`        | Node | Node[]           | `-`             | Since the data grid is a context provider, all React elements, including the ones that use the data grid context value, can be provided as children of the provider. If no children are provided, the provider will render just the table component. |
| `columnsDef`*     | Array of column objects | `-`             | An array of column objects containing various properties for each column, like `key`, `title`, `dataKey`, etc. Detailed configuration is provided below.                                                                                   |
| `data*`           | Array               | `-`             | Array of row data items.                                                                                                                                                                                                                     |
| `uniqueDataKey`        | String               | `id`            | It will be used to uniquely identify each row in the table data. By default, the table assumes `id` as a unique property in the data object.                                                                                       |

| `responsive`           | Boolean              | `false`         | Providing `responsive` as `true` will prevent horizontal scrolling in the table. Even if a column is resized, the other columns’ widths will adjust accordingly.                                                                  |
| `hideHeader`           | Boolean              | `false`         | Provision to hide the table header. May not be used frequently.                                                                                                                                                                    |
| `fixSelectionColumn`   | Boolean              | `false`         | If you want to make the selection column (checkbox or radio button) fixed to the left side, pass it as `true`.                                                                                                                    |
| `isSelectable`         | Boolean              | `false`         | A flag to determine whether the table is selectable or not, either single or multi-select.                                                                                                                                           |
| `multiSelect`          | Boolean              | `true`          | Pass `true` to allow multiple row selections using checkboxes. `isSelectable` must be provided as `true` to enable this feature.                                                                                                  |
| `disabledRows`         | String[] | Number[]   | `-`             | An array of disabled row IDs. Disabled rows cannot be selected.                                                                                                                                                                    |
| `defaultSelectedRows`  | String[] | Number[]   | `-`             | Provide an array of row IDs to be selected by default when the table initializes.                                                                                                                                                     |
| `selectedRows`         | String[] | Number[]   | `-`             | Manages row selection. Unlike older table versions, the data grid handles row selections internally. If you want to manage it externally, use `selectedRows` and `onRowSelectionChange`, but you will lose internal selection management. |
| `isLoading`            | Boolean              | `false`         | If `true`, an overlay loader will float over the table, including the header.                                                                                                                                                         |
| `isLoadingMore`        | Boolean              | `false`         | If `true`, a loader with the text "Loading More Rows..." will be shown at the bottom of the table when the user scrolls to the end. Useful for implementing a "load more" feature.                                                |
| `loadingMoreText`      | String               | `Loading More Rows...` | Custom text displayed along with the loading spinner when the "Load More" feature is triggered.                                                                                                                                       |
| `loadedAll`            | Boolean              | `false`         | If `true`, indicates that all data has been loaded, and prevents the `onLoadMore` function from being called when the scroll reaches the end of the table. Pass `false` to continue loading more rows.                           |
| `footerHeight`         | Number               | `40`            | Specifies the height of the table footer. If using `footerRenderer`, and the height is different, set this value accordingly.                                                                                                       |
| `estimatedRowHeight`   | Number               | `-`             | Estimated row height (in pixels). Useful to prevent flickering when rows with varying heights are displayed.                                                                                                                          |
| `getSelectionInputTooltip` | Function           | `-`             | Called when a selection checkbox or radio button is rendered to provide its tooltip, if applicable. The function receives `rowData` and `rowIndex` as arguments and must return an Orion tooltip configuration or text string.    |
| `getRowClassName`      | Function | String    | `-`             | Called when a row is rendered to determine its class name. You can either pass a string or a function that returns a class name based on `rowData` and `rowIndex`.                                                                |
| `onSelectAll`          | Function             | `-`             | Used to handle click events on the header checkbox. Rarely needed. Use `onRowSelectionChange` to manage row selections. The function will receive `checked` as its argument.                                                      |
| `onRowClick`           | Function             | `-`             | A handler function called when any row in the table is clicked.                                                                                                                                                                      |
| `onRowSelectionChange` | Function             | `-`             | This function is called whenever a radio button or checkbox (including the header checkbox) is clicked, and it is passed `selectedRowIds[]` (for multi-select) or `selectedRowId` (for single select).                           |
| `onLoadMore`           | Function             | `-`             | Enables infinite loading. This function is triggered when the scroll reaches the end of the table body. It should return a promise that resolves with new data to append to the table.                                               |
| `rowRenderer`          | Function             | `-`             | Called every time a row is rendered. If you want to customize the row rendering, return custom JSX. The function is passed `rowData`, `cells`, `rowIndex`, and `columns`.                                                       |
| `emptyRenderer`        | Function             | `No data available to show...` | Called when the table has no data or the data array is empty. Can return a text string or React element to display when no data is available.                                                                                     |
| `footerRenderer`       | Function             | `-`             | Renders a custom footer for the table. You can return a React element or JSX. By default, the footer height is `40px`, but this can be adjusted using the `footerHeight` prop.                                                     |
| `enableConfiguration`  | Boolean             | `false`         | Toggles visibility of the configuration button in the toolbar.                                                                                                                                                                       |
| `enableFullScreen`     | Boolean             | `false`         | Toggles the full-screen feature for the table.                                                                                                                                                                                          |
| `enableExportToCsv`    | Boolean             | `false`         | Toggles the ability to export the table data to CSV. Ensure that columns are marked as `exportable=true` if this is enabled.                                                                                                        |
| `csvFileName`          | String              | `data-grid`     | Customizes the file name when exporting data to CSV. By default, it is `data-grid.csv`.                                                                                                                                                  |
| `sortBy`               | String              | `-`             | The name of the column by which the table should be initially sorted.                                                                                                                                                                  |
| `sortOrder`            | String              | `asc`           | Specifies the default sort order (`asc` or `desc`) for the table during initialization.                                                                                                                                                  |
| `onSort`               | Function             | `-`             | Called every time a sorting icon in a column is clicked to change the column's sort order.                                                                                                                                               |
| `exportPopupMaxHeight` | Number              | `250`           | Specifies the maximum height for the export to CSV popup's column container.                                                                                                                                                           |
| `defaultExpandedRows`  | String[] | Number[]   | `[]`            | Row IDs to be shown expanded by default when the table is rendered.                                                                                                                                                                    |
| `expandedRows`         | String[] | Number[]   | `[]`            | Provides control over expanded rows. Update this array inside the `onRowExpand` callback.                                                                                                                                               |
| `onRowExpand`          | Function             | `-`             | Called when the expand icon is clicked. Useful for lazy-loading expanded data.                                                                                                                                                          |
| `toolbarChildren`      | Function             | `-`             | Renders custom JSX inside the toolbar if required.                                                                                                                                                                                      |
| `onExportCSV`          | Function             | `-`             | If provided, enables additional CSV export functionality. Must return a promise that resolves with data to be exported.                                                                                                               |
| `enablePersistConfig`  | Boolean             | `false`         | If `true`, will store column configurations (width, hidden, fixed, order) in local storage for persistence across sessions.                                                                                                          |
| `enableCSVToastMessage`| Boolean             | `false`         | Toggles a toast message when data is exported to CSV.                                                                                                                                                                                  |


#### `columnsDef` Configuration:

| Property            | Data Type           | Default Value   | Description                                                                                                                                                                                                                              |
|---------------------|---------------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `key`*              | String              | `-`             | A unique key that must be provided for every column, even for parents.                                                                                                                                                                      |
| `title`*            | String              | `-`             | A text string for the column header title.                                                                                                                                                                                                   |
| `dataKey`           | String              | `-`             | A text string key to get the column value from the row item.                                                                                                                                                                               |
| `minWidth`          | Number              | `-`             | Minimum width of the column. The column cannot be resized below this width.                                                                                                                                                                 |
| `maxWidth`          | Number              | `-`             | Maximum width of the column. The column cannot be resized above this width.                                                                                                                                                                 |
| `className`         | String              | `-`             | A custom class name for the body cell of the column.                                                                                                                                                                                        |
| `headerClassName`   | String              | `-`             | A custom class name for the header cell of the column.                                                                                                                                                                                     |
| `flexGrow`          | Number              | `1`             | Flex-grow value used for the width of the column.                                                                                                                                                                                            |
| `style`             | Object              | `-`             | A CSS style object for the body cell of the column.                                                                                                                                                                                          |
| `cellRenderer`      | Function            | `-`             | Custom column cell renderer that receives `cellData`, `dataKey`, `rowIndex`, and `rowData` as arguments. It should return valid JSX.                                                                                                      |
| `getCsvValue`       | Function            | `-`             | A function to retrieve the value when exporting to CSV, improving performance by returning a text value instead of rendering the React DOM.                                                                                               |
| `tooltip`           | Function            | `-`             | A function to get Orion tooltip configuration. `cellData` is passed as an argument, and you can return a text string, function, or an entire Orion tooltip object.                                                                        |
| `fixed`             | `false | left | right` | `false`         | Defines whether the column is free or fixed to the left or right. By default, columns are free.                                                                                                                                              |
| `textAlign`         | `left | center | right` | `left`          | Horizontal text alignment for both the column header and body cell.                                                                                                                                                                       |
| `alignItems`        | `top | center | bottom` | `center`        | Vertical text alignment in the body cell. The header text will always be center-aligned vertically.                                                                                                                                          |
| `hidden`            | Boolean             | `false`         | Defines whether this column is hidden by default.                                                                                                                                                                                           |
| `togglable`         | Boolean             | `true`          | Defines whether the visibility of this column is togglable.                                                                                                                                                                                |
| `fixable`           | Boolean             | `true`          | Defines whether this column is fixable to the left or right.                                                                                                                                                                               |
| `draggable`         | Boolean             | `true`          | Defines whether the column can be reordered by dragging the column header.                                                                                                                                                                  |
| `sortable`          | Boolean             | `false`         | Defines whether this column is sortable.                                                                                                                                                                                                    |
| `resizable`         | Boolean             | `true`          | Defines whether this column is resizable.                                                                                                                                                                                                   |
| `exportable`        | Boolean             | `true`          | Defines whether this column is exportable. Will be disabled in the export popup if set to `false`. Only used when `enableExportToCsv` is true on the table.                                                                                |
| `truncateText`      | Boolean             | `true`          | Truncates the text if it overflows.                                                                                                                                                                                                          |
| `csvTitle`          | String              | `-`             | A text string for the CSV column header title.                                                                                                                                                                                               |
| `isLoading`         | Boolean             | `-`             | If true, shows a loading spinner icon when the column is in a loading state.                                                                                                                                                                 |
| `isError`           | Boolean             | `-`             | If true, shows an error icon with a tooltip when the column is in an error state.                                                                                                                                                            |

```





The dataCollection component always needs a height to render. The way we do it is using a custom DynamicChildHeight component as follows
```javascript
import DynamicChildHeight from "../../../components/helperComponents";
...
<div className="jobs-table-container">
    <DynamicChildHeight childElmClassName="jstable__jobs-list">
        <div className="jstable__jobs-list qa-table-job">
            <DataCollection {...itsProps}/>
        </div>
    </DynamicChildHeight>
</div>
```


For creating a single select table we need to use the following hook
```javascript
import { useSingleSelect } from "../../utils/tableUtils";
...
const [selectedRow, handleRowSelect, clearSelectedRow] = useSingleSelect({
    initialSelectedRow: null, // Optional: Initial selected row
    onChange: (row) => {     // Optional: Callback when selection changes
        console.log('Selected row:', row);
    }
});
```

For creating a multi select table we need to use the following hook
```javascript
import { useMultiselect } from "../../hooks";
...
  const [areAllRowsSelected, toggleAll, toggleRow, selectedRowsList, resetAll] = useMultiselect(
        false,
        [],
        true,
        "id",
    );
```
